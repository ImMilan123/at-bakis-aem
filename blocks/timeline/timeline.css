/* =========================
   Timeline block (Franklin)
   ========================= */

.timeline {
    --tl-max-media: 420px;
    --tl-aspect: 4 / 3;
    --tl-col-gap: clamp(16px, 4vw, 40px);
    --tl-row-gap: clamp(28px, 5vw, 72px);
    --tl-connector: 1px;
    --tl-connector-color: #d6d6d6;
    --tl-spine: 2px;
    --tl-spine-color: #e4e4e4;
}

.timeline.pt-enhanced {
    position: relative;
    width: 100%;
}

/* Center vertical spine */
.timeline.has-spine::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: var(--tl-spine);
    background: var(--tl-spine-color);
    pointer-events: none;
}

/* =========================
   Layout
   ========================= */

.timeline .timeline-item {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--tl-row-gap) var(--tl-col-gap);
    align-items: center;
    padding-block: 12px; /* respects default section padding */
    position: relative;  /* for per-row connector */
}

/* Horizontal connector through row center */
.timeline .timeline-item::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    height: var(--tl-connector);
    background: var(--tl-connector-color);
    transform: translateY(-50%);
    pointer-events: none;
    z-index: 0;
}

/* =========================
   Base cell styling (keep BEFORE side-specific rules)
   ========================= */

.timeline .media {
    position: relative;
    z-index: 1; /* above connector line */
}

.timeline .content {
    position: relative;
    z-index: 1;
    max-width: 60ch;
}

/* =========================
   Side-specific grid placement
   ========================= */

.timeline .timeline-item.left .media   { grid-column: 1; }
.timeline .timeline-item.left .content { grid-column: 2; }
.timeline .timeline-item.right .content { grid-column: 1; }
.timeline .timeline-item.right .media  { grid-column: 2; }

/* =========================
   Media
   ========================= */

.timeline .media .media-frame {
    width: 100%;
    max-width: var(--tl-max-media);
    aspect-ratio: var(--tl-aspect);
    overflow: hidden;
    border-radius: 6px;
}

.timeline .media picture,
.timeline .media img,
.timeline .media video {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* =========================
   Content
   ========================= */

.timeline .content :where(h1, h2, h3, h4, strong) {
    display: block;
    margin: 0 0 6px;
}

.timeline .content p {
    margin: 0.2em 0 0;
    line-height: 1.45;
}

/* =========================
   Responsive
   ========================= */

@media (width <= 900px) {
    .timeline.has-spine::before { display: none; }

    .timeline .timeline-item {
        grid-template-columns: 1fr;
        gap: 12px;
        padding-block: 10px;
    }

    /* Stack: image first, then text */
    .timeline .timeline-item .media   { order: 1; }
    .timeline .timeline-item .content { order: 2; }

    /* Shorten the long connector on mobile */
    .timeline .timeline-item::after {
        left: 8%;
        right: 8%;
        opacity: 0.5;
    }
}

@media (width <= 560px) {
    .timeline .timeline-item::after { display: none; }
}
